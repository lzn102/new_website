{% extends "blog/base.html" %}

{% load staticfiles %}
{% block pagename %}
    <title>blog主页</title>
{% endblock %}

{% block content %}
    <div class="content clearfix">
        {% for article in ar.object_list %}
        <div class="info clearfix">
            <h2><a href="{% url 'blog:content' article.id %}">{{ article.title }}</a></h2>
            <span><img src="{% static 'blog/img/rili.ico' %}">{{ article.add_time | date:"Y-F-j" }}</span>
            <p>{{ article.content | truncatechars:"250" | linebreaks }}</p>
            <a href="{% url 'blog:content' article.id %}" class="readall">阅读全文</a>
        </div>
        {% endfor %}
    </div>
{% endblock %}

{% block pagination %}
    <div class="pagination">
        <div class="page">
            <ul>
                {% if ar.has_previous %}
                    <span><a href="?{{ ar.previous_page_number.querystring }}" class="previous">上页</a></span>
                {% endif %}

                {% for page in ar.pages %}
                    {% if page %}
                        {% ifequal page ar.number %}
                            <li><a class="current-page">{{ page }}</a></li>
                        {% else %}
                            <li><a href="?{{ page.querystring }}" class="page-number">{{ page }}</a></li>
                        {% endifequal %}
                    {% else %}
                        <li><a class="omission">...</a></li>
                    {% endif %}
                {% endfor %}

                {% if ar.has_next %}
                    <span><a href="?{{ ar.next_page_number.querystring }}" class="next">下页</a></span>
                {% endif %}
            </ul>
        </div>
    </div>
{% endblock %}